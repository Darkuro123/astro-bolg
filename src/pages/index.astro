---
import { siteConfig } from "../config/site-config";
import Layout from "../layouts/Layout.astro";
import BlogPost from "../components/BlogPost.astro"
import { getCollection } from "astro:content";
import TypeBlogPost from "../components/TypeBlogPost.astro";

// const posts =  Object.values(import.meta.glob('./posts/*.{md,mdx}', { eager: true }));
// const post = await Astro.glob('./posts/*.{md,mdx}')
// console.log(posts)


const blogPost = await getCollection('blog',(post)=> post.data.isDraft === false);
// console.log(blogPost);

---

<Layout title="Asyync-blogs">
	<!-- component -->
<section class="bg-gray-900">
    <div class="container px-6 py-10 mx-auto">
        <h1 class="text-3xl font-semibold  capitalize lg:text-4xl text-white">{siteConfig.title}</h1>
        <a class="mr-2" href="/blog/1">Blog Paginado</a>
        <a class="mr-2" href="/authors">Autores</a>
        <div class="grid grid-cols-1 gap-8 mt-8 md:mt-16 md:grid-cols-2">
         
			{
				blogPost.map((post) => <TypeBlogPost post={post}/>)
			}
			

            </div>
        </div>
    </div>
</section>
</Layout>

<style>
    @reference '../styles/global.css';
    a {
    @apply text-blue-500 hover:underline;
  }

 
</style>